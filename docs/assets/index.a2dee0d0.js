import{T as A,B as Q,M as g,a as B,R as I,P as C,S as o,b as a,c as e,V as E,A as t,D as n,O as i,W as h,d as s}from"./vendor.1fe8cce8.js";const D=new o,c=new a(60,window.innerWidth/window.innerHeight,.01,1e3);c.position.set(0,0,0);const G=new e(new E(0,0,0),new E(1,0,0),0,.5),r=new class{constructor(Q){this.objects=[],this.collisionObjects=[],this.loader=new A,this.currPaintingIdx=0,this.scene=Q}createWall(A,I,C,o,a,e){const E=new Q(o,a,e),t=new g({color:16777209}),n=new B(E,t);return this.scene.add(n),this.objects.push(n),this.collisionObjects.push(n),n.position.x=A,n.position.y=I,n.position.z=C,n}createFloor(A,Q,o,a,e){const E=this.loader.load("data:image/png;base64,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");E.wrapS=I,E.wrapT=I,E.repeat.set(2*a,2*e);const t=new C(a,e),n=new g({map:E}),i=new B(t,n);this.scene.add(i),this.objects.push(i),i.rotateX(-Math.PI/2),i.position.x=A,i.position.y=Q,i.position.z=o}createPainting(A,Q,I,o,a){this.currPaintingIdx++,this.loader.load(`https://raw.githubusercontent.com/Nikos1001/gallery/master/paintings/${this.currPaintingIdx-1}.png`,(e=>{let E=a,t=a;e.image.width<e.image.height?E*=e.image.width/e.image.height:t*=e.image.height/e.image.width;const n=new C(E,t),i=new g({map:e}),h=new B(n,i);this.scene.add(h),this.objects.push(h),h.rotateY(o),h.position.x=A,h.position.y=Q,h.position.z=I}))}}(D);!function(A){A.createWall(-15.5,2,0,1,5,30),A.createWall(15.5,2,0,1,5,30),A.createWall(8,2,-15.5,14,5,1),A.createWall(-8,2,-15.5,14,5,1),A.createWall(0,2,15.5,30,5,1),A.createFloor(0,-.5,0,32,32),A.createWall(0,3,-15.5,30,3,1),A.createWall(5,.5,-11.5,1,2,7),A.createWall(-5,.5,-11.5,1,2,7),A.createWall(5,.5,0,1,2,10),A.createWall(-5,.5,0,1,2,10),A.createWall(5,.5,11.5,1,2,7),A.createWall(-5,.5,11.5,1,2,7),A.createWall(5,1.5,0,1,1,30),A.createWall(-5,1.5,0,1,1,30),A.createWall(10,1,0,1,3,30),A.createWall(-10,1,0,1,3,30);for(let I=-12.5;I<=12.5;I+=2.5)A.createPainting(9.49,.4,I,-Math.PI/2,1.5),A.createPainting(-9.49,.4,I,Math.PI/2,1.5);function Q(Q){A.createPainting(4.49,.4,Q,-Math.PI/2,1.5),A.createPainting(-4.49,.4,Q,Math.PI/2,1.5),A.createPainting(5.51,.4,Q,Math.PI/2,1.5),A.createPainting(-5.51,.4,Q,-Math.PI/2,1.5)}function g(Q){A.createPainting(Q,.4,-14.99,0,1.5),A.createPainting(Q,.4,14.99,Math.PI,1.5)}g(2.75),g(-2.75),g(7.5),g(-7.5),Q(-12.5),Q(-10);for(let I=-3;I<=3;I+=3)Q(I);function B(Q){A.createPainting(5.49,3,Q,-Math.PI/2,1.5),A.createPainting(-5.49,3,Q,Math.PI/2,1.5)}Q(12.5),Q(10),A.createWall(-10.5,3,0,10,2,30),A.createWall(10.5,3,0,10,2,30),A.createWall(0,4.5,0,30,1,30),A.createFloor(-5,2.01,0,1,30),A.createFloor(5,2.01,0,1,30);for(let I=-12.5;I<=12.5;I+=2.5)B(I);A.createWall(3.125,1.75,14,2.75,.5,2),A.createFloor(3.125,2.01,14,-2.75,-2),A.createWall(-3.125,1.75,14,2.75,.5,2),A.createFloor(-3.125,2.01,14,2.75,2),console.log(A.currPaintingIdx)}(r);const N=new t(16777215,.9);D.add(N);const M=new n(16777215,.1),l=new i;l.position.set(1,.5,.2),D.add(l),M.target=l,D.add(M);const Y=new n(16777215,.1),w=new i;w.position.set(-1,.5,-.2),D.add(w),Y.target=w,D.add(Y);const d=new h;d.setSize(window.innerWidth,window.innerHeight),document.body.appendChild(d.domElement);const p=r.createWall(0,-.99,14,3.5,1,2),P=new s(c,document.body);D.add(P.getObject());const u=new E;document.body.onclick=function(){P.lock()};let m=-1,W=!1,y=!1;document.body.onkeydown=function(A){"w"==A.key&&(W=!0),"s"==A.key&&(y=!0)},document.body.onkeyup=function(A){"w"==A.key&&(W=!1),"s"==A.key&&(y=!1)};let b=performance.now(),x=!1,O=0,f=0;!function A(){let Q=performance.now()-b;Q=1/Q,console.log(Q),b=performance.now(),requestAnimationFrame(A),d.render(D,c),W&&P.moveForward(Q/2),y&&P.moveForward(-Q/2),G.ray.origin.copy(P.getObject().position);for(let B=0;B<2*Math.PI;B+=Math.PI/20){G.ray.direction.set(Math.cos(B),0,Math.sin(B));G.intersectObjects(r.collisionObjects).length>0&&c.position.add(new E(-.1*Q*Math.cos(B),0,-.1*Q*Math.sin(B)))}const g=Math.abs(c.position.x)<1.75&&c.position.z>13&&c.position.z<15;g&&(O+=Q),g||(O=0),O>8&&(O=-5,x=!x),x?(m+=.5*Q,c.position.y+=.5*Q):(m-=.5*Q,c.position.y-=.5*Q),m=Math.min(m,1.5),m=Math.max(m,-1),p.position.y=m+.01,c.position.z<12.75&&Math.abs(c.position.x)<4.25&&(x=!1,c.position.y+=f*Q,f-=.75*Q),c.position.y<0&&(c.position.y=0,f=0),c.position.y>2.5&&(c.position.y=2.5,f=0),u.copy(c.position)}();
