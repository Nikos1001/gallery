import{T as A,B as Q,M as g,a as B,R as a,P as I,S as C,b as o,c as t,V as e,A as E,D as i,O as n,W as s,d as h}from"./vendor.1fe8cce8.js";const D=new C,c=new o(60,window.innerWidth/window.innerHeight,.01,1e3);c.position.set(0,0,0);const r=new t(new e(0,0,0),new e(1,0,0),0,.5),G=new class{constructor(Q){this.objects=[],this.collisionObjects=[],this.loader=new A,this.currPaintingIdx=0,this.scene=Q}createWall(A,a,I,C,o,t){const e=new Q(C,o,t),E=new g({color:16777209}),i=new B(e,E);return this.scene.add(i),this.objects.push(i),this.collisionObjects.push(i),i.position.x=A,i.position.y=a,i.position.z=I,i}createFloor(A,Q,C,o,t){const e=this.loader.load("data:image/png;base64,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");e.wrapS=a,e.wrapT=a,e.repeat.set(2*o,2*t);const E=new I(o,t),i=new g({map:e}),n=new B(E,i);this.scene.add(n),this.objects.push(n),n.rotateX(-Math.PI/2),n.position.x=A,n.position.y=Q,n.position.z=C}createPainting(A,Q,a,C,o){return console.log(this.currPaintingIdx),new Promise(((t,e)=>{this.currPaintingIdx++,this.loader.load(`https://raw.githubusercontent.com/Nikos1001/gallery/master/paintings/${this.currPaintingIdx-1}.png`,(e=>{let E=o,i=o;e.image.width<e.image.height?E*=e.image.width/e.image.height:i*=e.image.height/e.image.width;const n=new I(E,i),s=new g({map:e}),h=new B(n,s);this.scene.add(h),this.objects.push(h),h.rotateY(C),h.position.x=A,h.position.y=Q,h.position.z=a,t()})),setTimeout(t,500)}))}}(D);!async function(A){A.createWall(-15.5,2,0,1,5,30),A.createWall(15.5,2,0,1,5,30),A.createWall(8,2,-15.5,14,5,1),A.createWall(-8,2,-15.5,14,5,1),A.createWall(0,2,15.5,30,5,1),A.createFloor(0,-.5,0,32,32),A.createWall(0,3,-15.5,30,3,1),A.createWall(5,.5,-11.5,1,2,7),A.createWall(-5,.5,-11.5,1,2,7),A.createWall(5,.5,0,1,2,10),A.createWall(-5,.5,0,1,2,10),A.createWall(5,.5,11.5,1,2,7),A.createWall(-5,.5,11.5,1,2,7),A.createWall(5,1.5,0,1,1,30),A.createWall(-5,1.5,0,1,1,30),A.createWall(10,1,0,1,3,30),A.createWall(-10,1,0,1,3,30),A.createWall(-10.5,3,0,10,2,30),A.createWall(10.5,3,0,10,2,30),A.createWall(0,4.5,0,30,1,30),A.createFloor(-5,2.01,0,1,30),A.createFloor(5,2.01,0,1,30),A.createWall(3.125,1.75,14,2.75,.5,2),A.createFloor(3.125,2.01,14,-2.75,-2),A.createWall(-3.125,1.75,14,2.75,.5,2),A.createFloor(-3.125,2.01,14,2.75,2);for(let a=-12.5;a<=12.5;a+=2.5)await A.createPainting(9.49,.4,a,-Math.PI/2,1.5),await A.createPainting(-9.49,.4,a,Math.PI/2,1.5);async function Q(Q){await A.createPainting(4.49,.4,Q,-Math.PI/2,1.5),await A.createPainting(-4.49,.4,Q,Math.PI/2,1.5),await A.createPainting(5.51,.4,Q,Math.PI/2,1.5),await A.createPainting(-5.51,.4,Q,-Math.PI/2,1.5)}async function g(Q){await A.createPainting(Q,.4,-14.99,0,1.5),await A.createPainting(Q,.4,14.99,Math.PI,1.5)}await g(2.75),await g(-2.75),await g(7.5),await g(-7.5),await Q(-12.5),await Q(-10);for(let a=-3;a<=3;a+=3)await Q(a);async function B(Q){A.createPainting(5.49,3,Q,-Math.PI/2,1.5),A.createPainting(-5.49,3,Q,Math.PI/2,1.5)}await Q(12.5),await Q(10);for(let a=-12.5;a<=12.5;a+=2.5)await B(a);console.log(A.currPaintingIdx)}(G);const N=new E(16777215,.9);D.add(N);const w=new i(16777215,.1),M=new n;M.position.set(1,.5,.2),D.add(M),w.target=M,D.add(w);const l=new i(16777215,.1),Y=new n;Y.position.set(-1,.5,-.2),D.add(Y),l.target=Y,D.add(l);const d=new s;d.setSize(window.innerWidth,window.innerHeight),document.body.appendChild(d.domElement);const p=G.createWall(0,-.99,14,3.5,1,2),P=new h(c,document.body);D.add(P.getObject());const u=new e;document.body.onclick=function(){P.lock()};let m=-1,y=!1,W=!1;document.body.onkeydown=function(A){"w"==A.key&&(y=!0),"s"==A.key&&(W=!0)},document.body.onkeyup=function(A){"w"==A.key&&(y=!1),"s"==A.key&&(W=!1)};let b=performance.now(),x=!1,O=0,f=0;!function A(){let Q=performance.now()-b;Q=1/Q,b=performance.now(),requestAnimationFrame(A),d.render(D,c),y&&P.moveForward(Q/2),W&&P.moveForward(-Q/2),r.ray.origin.copy(P.getObject().position);for(let B=0;B<2*Math.PI;B+=Math.PI/20){r.ray.direction.set(Math.cos(B),0,Math.sin(B));r.intersectObjects(G.collisionObjects).length>0&&c.position.add(new e(-.1*Q*Math.cos(B),0,-.1*Q*Math.sin(B)))}const g=Math.abs(c.position.x)<1.75&&c.position.z>13&&c.position.z<15;g&&(O+=Q),g||(O=0),O>8&&(O=-5,x=!x),x?(m+=.5*Q,c.position.y+=.5*Q):(m-=.5*Q,c.position.y-=.5*Q),m=Math.min(m,1.5),m=Math.max(m,-1),p.position.y=m+.01,c.position.z<12.75&&Math.abs(c.position.x)<4.25&&(x=!1,c.position.y+=f*Q,f-=.75*Q),c.position.y<0&&(c.position.y=0,f=0),c.position.y>2.5&&(c.position.y=2.5,f=0),u.copy(c.position)}();
