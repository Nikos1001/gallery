import{T as e,R as o,B as n,M as t,a as s,P as i,S as a,b as c,c as r,V as d,A as l,D as w,W as h,d as p}from"./vendor.919952db.js";const y=new a,u=new c(60,window.innerWidth/window.innerHeight,.01,1e3),b=new r(new d(0,0,0),new d(1,0,0),0,.5),m=new class{constructor(n){this.objects=[],this.collisionObjects=[],this.loader=new e,this.scene=n,this.floorPanel=this.loader.load("res/floorPanel.png"),this.floorPanel.wrapS=o,this.floorPanel.wrapT=o,this.floorPanel.repeat.set(2,2)}createWall(e,o,i,a,c,r){const d=new n(a,c,r),l=new t({color:16777209}),w=new s(d,l);this.scene.add(w),this.objects.push(w),this.collisionObjects.push(w),w.position.x=e,w.position.y=o,w.position.z=i}createFloor(e,o,n){const a=new i(1,1),c=new t({map:this.floorPanel}),r=new s(a,c);this.scene.add(r),this.objects.push(r),r.rotateX(-Math.PI/2),r.position.x=e,r.position.y=o,r.position.z=n}}(y);m.createWall(0,0,-3,3,1,1),m.createWall(-1,0,-3.5,1,1,2),m.createFloor(0,-.5,-4),m.createFloor(1,-.5,-4);const f=new l(15263976);y.add(f);const j=new w(16777215,.1);j.position.copy(new d(.8,1,1)),y.add(j);const k=new h;k.setSize(window.innerWidth,window.innerHeight),document.body.appendChild(k.domElement);const P=new p(u,document.body);y.add(P.getObject()),document.body.onclick=function(){P.lock()};let g=!1,F=!1;document.body.onkeydown=function(e){"w"==e.key&&(g=!0),"s"==e.key&&(F=!0)},document.body.onkeyup=function(e){"w"==e.key&&(g=!1),"s"==e.key&&(F=!1)},function e(){requestAnimationFrame(e),k.render(y,u),b.ray.origin.copy(P.getObject().position);let o=new d(0,0,-1);o.applyQuaternion(u.quaternion),b.ray.direction.copy(o);const n=b.intersectObjects(m.collisionObjects).length>0;g&&!n&&P.moveForward(.025),F&&P.moveForward(-.025)}();
